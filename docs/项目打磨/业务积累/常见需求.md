# 常见需求

::: tip 说明
本篇旨在记录作者在实战过程中学到的一些常见需求点，这些东西可能不指针对于某一个业务场景，也许很多场景下都可以用得到，于是抽取出来针对性的记录
:::

## 用户信息脱敏

简称“脱敏”，意思就是对「隐藏敏感信息」，防止数据库中的字段泄露，常见于比如登录后返回前端登录时的查询到的用户信息，若不做任何处理直接返回前端那么从数据库中查到的用户信息（注意这里可能包含很多敏感信息）就是暴露的，很不安全，于是我们可以做一个脱敏处理：

说白了其实就是新建一个新的对象，这个对象中只包含可以暴露的非敏感信息

```Java
// user是返回的实际对象昂
User user = XxxService.getXxx();
User safetyUser = new User();
safetyUser.setXxx(user.getXxx());
// 这里只set非敏感信息
```

## MyBatisPlus 中对逻辑删除字段的处理

MyBatisPlus 框架中针对「逻辑状态」的字段有特殊的处理，可以在配置中设置，方便我们在查询时只返回表示「逻辑存在」的字段

```yaml
myBatis-plus:
    gloabl-config:
        db-config:
            logic-delete-field: isDeleteField # 数据库中真实的逻辑字段
            logic-delete-value: 1 # 值为1表示逻辑删除
            logic-not-delete-value: 0 # 值为0表示逻辑存在
```
